/* { dg-do run } */
/* { dg-additional-options "-O2 -fno-trapping-math -ftree-vectorize " } */
/* { dg-require-effective-target riscv_d } */
/* { dg-require-effective-target riscv_v_ok } */
/* { dg-require-effective-target riscv_zfh_ok } */
/* { dg-add-options riscv_v } */
/* { dg-add-options riscv_zfh } */


#include "bug_2.c"
#include <stdio.h>
int  main(void )
{
    __fp16 __fp16_int16_t_a[]={1,4,4,5,5,7,12,15,17,23,25,26,28,29,30,32,32,32,37,39,41,45,46,47,48,51,52,55,55,60,60,62,68,69,73,79,82,84,84,86,87,88,95,97,97,100,101,101,103,105,106,109,111,111,113,115,116,118,119,122,123,124,124,126};
    __fp16 __fp16_int16_t_b[]={2,3,6,11,12,13,16,17,17,21,21,21,28,28,31,35,37,38,38,40,41,45,46,47,47,52,53,56,58,59,60,61,65,67,69,72,77,82,83,84,85,89,90,95,97,99,100,101,101,106,107,108,112,113,114,115,119,120,121,124,124,125,126,126};
    int16_t __fp16_int16_t_c[]={0,1,8,9,10,10,13,17,19,21,22,22,23,26,26,27,28,31,32,33,34,34,36,38,42,45,48,52,54,54,55,57,57,59,59,59,61,64,65,65,65,66,68,70,71,72,73,75,76,77,78,79,80,82,85,89,94,103,106,108,115,117,118,119};
    int16_t __fp16_int16_t_d[]={0,4,6,6,7,8,9,10,15,21,24,26,28,30,31,31,33,34,35,36,36,38,40,43,44,47,49,51,53,55,59,66,68,71,71,73,74,78,78,80,81,81,84,86,86,89,92,95,96,96,99,99,103,109,113,116,117,118,118,119,125,126,127,127};
    int16_t __fp16_int16_t_e[]={0,0,1,2,5,7,7,8,11,17,20,24,24,26,27,29,29,31,33,36,36,36,37,37,38,40,42,44,45,47,48,48,49,50,51,54,55,59,65,67,67,68,69,72,74,79,80,81,85,93,98,98,106,106,106,109,110,113,113,116,118,123,127,127};
    int16_t __fp16_int16_t_except[]={0,1,6,6,7,8,9,10,19,21,22,22,23,26,31,31,33,34,35,36,34,34,36,38,42,47,49,51,53,54,55,57,57,59,59,59,61,64,65,65,65,81,68,70,71,72,73,75,76,96,99,79,103,109,113,89,117,118,118,119,125,126,127,119};
    foo(__fp16_int16_t_a,__fp16_int16_t_b,__fp16_int16_t_c,__fp16_int16_t_d,__fp16_int16_t_e,64);
    for(int i=0;i<64;i++)
    {
        if (__fp16_int16_t_e[i]!=__fp16_int16_t_except[i] ) {
            printf("foo=index:%d,__fp16_int16_t_e:%d,__fp16_int16_t_except:%d\n",i,__fp16_int16_t_e[i],__fp16_int16_t_except[i]);
            __builtin_abort();
        }
    }
    return 0;
}
